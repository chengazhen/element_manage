{"version":3,"sources":["webpack:///./node_modules/echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///./src/views/userDis/index.vue?4629","webpack:///src/views/userDis/index.vue","webpack:///./src/views/userDis/index.vue?92c3","webpack:///./src/views/userDis/index.vue","webpack:///./node_modules/echarts/lib/component/helper/selectableMixin.js","webpack:///./node_modules/echarts/lib/action/createDataSelectAction.js","webpack:///./node_modules/echarts/lib/visual/dataColor.js","webpack:///./node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/echarts/lib/chart/pie.js","webpack:///./node_modules/echarts/lib/processor/dataFilter.js","webpack:///./node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/echarts/lib/chart/pie/PieSeries.js"],"names":["zrUtil","graphic","ChartView","updateDataSelected","uid","seriesModel","hasAnimation","api","data","getData","dataIndex","this","name","getName","selectedOffset","get","dispatchAction","type","from","seriesId","id","each","idx","toggleItemSelected","getItemGraphicEl","getItemLayout","isSelected","el","layout","midAngle","startAngle","endAngle","dx","Math","cos","dy","sin","offset","position","animate","when","start","attr","PiePiece","Group","call","sector","Sector","z2","polyline","Polyline","text","Text","add","updateData","piePieceProto","prototype","firstCreate","childAt","labelLine","labelText","hostModel","itemModel","getItemModel","sectorShape","extend","label","animationTypeUpdate","getShallow","setShape","animationType","shape","r","r0","initProps","updateProps","visualColor","getItemVisual","useStyle","defaults","lineJoin","fill","getModel","getItemStyle","hoverStyle","cursorStyle","withAnimation","_updateLabel","highDownOnUpdate","isAnimationEnabled","fromState","toState","ignore","hoverIgnore","stopAnimation","animateTo","normalIgnore","setHoverStyle","labelLayout","isNaN","x","y","targetLineShape","points","linePoints","targetTextStyle","style","rotation","origin","labelModel","labelHoverModel","labelLineModel","labelLineHoverModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","autoColor","useInsideStyle","inside","textAlign","textVerticalAlign","verticalAlign","opacity","setStyle","stroke","getLineStyle","smooth","inherits","PieView","init","sectorGroup","_sectorGroup","render","ecModel","payload","oldData","_data","group","isFirstRender","onSectorClick","curry","selectedMode","diff","piePiece","eachChild","child","on","setItemGraphicEl","update","newIdx","oldIdx","off","remove","execute","count","s","max","getWidth","getHeight","removeClipPath","bind","setClipPath","_createClipPath","cx","cy","clockwise","dispose","cb","clipPath","initOrUpdate","PI","containPoint","point","itemLayout","radius","sqrt","_default","module","exports","_number","parsePercent","linearMap","PI2","RADIAN","seriesType","eachSeriesByType","valueDim","mapDimension","center","isArray","width","height","size","min","minAngle","validDataCount","value","sum","getSum","unitRadian","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","angle","setItemLayout","NaN","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","staticStyle","attrs","city","methods","watch","mounted","component","updateSelectedMap","targetList","_targetList","slice","_selectTargetMap","reduce","targetMap","target","set","createHashMap","select","selected","unSelect","toggleSelected","echarts","actionInfos","actionInfo","registerAction","eachComponent","mainType","subType","query","method","_util","getTargetSeries","paletteScope","seiresModelMap","__paletteScope","reset","dataAll","getRawData","idxMap","rawIdx","getRawIndex","filteredIdx","singleDataColor","singleDataBorderColor","setItemVisual","color","getColorFromPalette","borderColor","textContain","adjustSingleSide","list","viewWidth","viewHeight","shiftDown","end","delta","j","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","i","l","length","deltaY","abs","len","length2","len2","deltaX","sort","a","b","lastY","upList","downList","push","avoidOverlap","labelLayoutList","leftList","rightList","isPositionCenter","dist","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","textX","textY","isLabelInside","x1","y1","x2","y2","x3","y3","labelRotate","font","getFont","rotate","getFormattedLabel","textRect","getBoundingRect","createDataSelectAction","dataColor","pieLayout","dataFilter","event","registerVisual","registerLayout","registerProcessor","legendModels","findComponents","filterSelf","createDimensions","List","opt","nameList","coordDimensions","source","getSource","dimensionsInfo","initData","createListSimply","modelUtil","getPercentWithPrecision","dataSelectableMixin","_dataProvider","retrieveRawAttr","PieSeries","extendSeriesModel","option","superApply","arguments","legendDataProvider","_createSelectableList","_defaultLabelLine","mergeOption","newOption","superCall","getInitialData","getDataParams","params","valueList","percent","$vars","defaultEmphasis","labelLineNormalOpt","labelLineEmphasisOpt","emphasis","show","defaultOption","zlevel","z","legendHoverLink","hoverAnimation","minShowLabelAngle","hoverOffset","avoidLabelOverlap","percentPrecision","lineStyle","itemStyle","borderWidth","animationEasing","mixin"],"mappings":"qGAoBA,IAAIA,EAAS,EAAQ,QAEjBC,EAAU,EAAQ,QAElBC,EAAY,EAAQ,QA0BxB,SAASC,EAAmBC,EAAKC,EAAaC,EAAcC,GAC1D,IAAIC,EAAOH,EAAYI,UACnBC,EAAYC,KAAKD,UACjBE,EAAOJ,EAAKK,QAAQH,GACpBI,EAAiBT,EAAYU,IAAI,kBACrCR,EAAIS,eAAe,CACjBC,KAAM,kBACNC,KAAMd,EACNQ,KAAMA,EACNO,SAAUd,EAAYe,KAExBZ,EAAKa,MAAK,SAAUC,GAClBC,EAAmBf,EAAKgB,iBAAiBF,GAAMd,EAAKiB,cAAcH,GAAMjB,EAAYqB,WAAWlB,EAAKK,QAAQS,IAAOR,EAAgBR,MAavI,SAASiB,EAAmBI,EAAIC,EAAQF,EAAYZ,EAAgBR,GAClE,IAAIuB,GAAYD,EAAOE,WAAaF,EAAOG,UAAY,EACnDC,EAAKC,KAAKC,IAAIL,GACdM,EAAKF,KAAKG,IAAIP,GACdQ,EAASX,EAAaZ,EAAiB,EACvCwB,EAAW,CAACN,EAAKK,EAAQF,EAAKE,GAClC/B,EACEqB,EAAGY,UAAUC,KAAK,IAAK,CACvBF,SAAUA,IACTG,MAAM,aAAed,EAAGe,KAAK,WAAYJ,GAS9C,SAASK,EAASnC,EAAMc,GACtBrB,EAAQ2C,MAAMC,KAAKlC,MACnB,IAAImC,EAAS,IAAI7C,EAAQ8C,OAAO,CAC9BC,GAAI,IAEFC,EAAW,IAAIhD,EAAQiD,SACvBC,EAAO,IAAIlD,EAAQmD,KACvBzC,KAAK0C,IAAIP,GACTnC,KAAK0C,IAAIJ,GACTtC,KAAK0C,IAAIF,GACTxC,KAAK2C,WAAW9C,EAAMc,GAAK,GAG7B,IAAIiC,EAAgBZ,EAASa,UAE7BD,EAAcD,WAAa,SAAU9C,EAAMc,EAAKmC,GAC9C,IAAIX,EAASnC,KAAK+C,QAAQ,GACtBC,EAAYhD,KAAK+C,QAAQ,GACzBE,EAAYjD,KAAK+C,QAAQ,GACzBrD,EAAcG,EAAKqD,UACnBC,EAAYtD,EAAKuD,aAAazC,GAC9BM,EAASpB,EAAKiB,cAAcH,GAC5B0C,EAAchE,EAAOiE,OAAO,GAAIrC,GACpCoC,EAAYE,MAAQ,KACpB,IAAIC,EAAsB9D,EAAY+D,WAAW,uBAEjD,GAAIX,EAAa,CACfX,EAAOuB,SAASL,GAChB,IAAIM,EAAgBjE,EAAY+D,WAAW,iBAErB,UAAlBE,GACFxB,EAAOyB,MAAMC,EAAI5C,EAAO6C,GACxBxE,EAAQyE,UAAU5B,EAAQ,CACxByB,MAAO,CACLC,EAAG5C,EAAO4C,IAEXnE,EAAaiB,KAGdwB,EAAOyB,MAAMxC,SAAWH,EAAOE,WAC/B7B,EAAQ0E,YAAY7B,EAAQ,CAC1ByB,MAAO,CACLxC,SAAUH,EAAOG,WAElB1B,EAAaiB,QAGQ,cAAxB6C,EAEFrB,EAAOuB,SAASL,GAGhB/D,EAAQ0E,YAAY7B,EAAQ,CAC1ByB,MAAOP,GACN3D,EAAaiB,GAKpB,IAAIsD,EAAcpE,EAAKqE,cAAcvD,EAAK,SAC1CwB,EAAOgC,SAAS9E,EAAO+E,SAAS,CAC9BC,SAAU,QACVC,KAAML,GACLd,EAAUoB,SAAS,aAAaC,iBACnCrC,EAAOsC,WAAatB,EAAUoB,SAAS,sBAAsBC,eAC7D,IAAIE,EAAcvB,EAAUM,WAAW,UACvCiB,GAAevC,EAAOJ,KAAK,SAAU2C,GAErC9D,EAAmBZ,KAAMH,EAAKiB,cAAcH,GAAMjB,EAAYqB,WAAW,KAAMJ,GAAMjB,EAAYU,IAAI,kBAAmBV,EAAYU,IAAI,cAExI,IAAIuE,GAAiB7B,GAAuC,eAAxBU,EAEpCxD,KAAK4E,aAAa/E,EAAMc,EAAKgE,GAE7B3E,KAAK6E,iBAAmB1B,EAAU/C,IAAI,mBAAqBV,EAAYoF,qBAAuB,SAAUC,EAAWC,GACjG,aAAZA,GACFhC,EAAUiC,OAASjC,EAAUkC,YAC7BjC,EAAUgC,OAAShC,EAAUiC,YAG7B/C,EAAOgD,eAAc,GACrBhD,EAAOiD,UAAU,CACfxB,MAAO,CACLC,EAAG5C,EAAO4C,EAAInE,EAAYU,IAAI,iBAE/B,IAAK,gBAER4C,EAAUiC,OAASjC,EAAUqC,aAC7BpC,EAAUgC,OAAShC,EAAUoC,aAC7BlD,EAAOgD,eAAc,GACrBhD,EAAOiD,UAAU,CACfxB,MAAO,CACLC,EAAG5C,EAAO4C,IAEX,IAAK,gBAER,KACJvE,EAAQgG,cAActF,OAGxB4C,EAAcgC,aAAe,SAAU/E,EAAMc,EAAKgE,GAChD,IAAI3B,EAAYhD,KAAK+C,QAAQ,GACzBE,EAAYjD,KAAK+C,QAAQ,GACzBrD,EAAcG,EAAKqD,UACnBC,EAAYtD,EAAKuD,aAAazC,GAC9BM,EAASpB,EAAKiB,cAAcH,GAC5B4E,EAActE,EAAOsC,MACrBU,EAAcpE,EAAKqE,cAAcvD,EAAK,SAE1C,IAAK4E,GAAeC,MAAMD,EAAYE,IAAMD,MAAMD,EAAYG,GAC5DzC,EAAUgC,OAAShC,EAAUoC,aAAepC,EAAUiC,YAAclC,EAAUiC,OAASjC,EAAUqC,aAAerC,EAAUkC,aAAc,MAD1I,CAKA,IAAIS,EAAkB,CACpBC,OAAQL,EAAYM,YAAc,CAAC,CAACN,EAAYE,EAAGF,EAAYG,GAAI,CAACH,EAAYE,EAAGF,EAAYG,GAAI,CAACH,EAAYE,EAAGF,EAAYG,KAE7HI,EAAkB,CACpBL,EAAGF,EAAYE,EACfC,EAAGH,EAAYG,GAGbf,GACFrF,EAAQ0E,YAAYhB,EAAW,CAC7BY,MAAO+B,GACNjG,EAAaiB,GAChBrB,EAAQ0E,YAAYf,EAAW,CAC7B8C,MAAOD,GACNpG,EAAaiB,KAEhBqC,EAAUjB,KAAK,CACb6B,MAAO+B,IAET1C,EAAUlB,KAAK,CACbgE,MAAOD,KAIX7C,EAAUlB,KAAK,CACbiE,SAAUT,EAAYS,SACtBC,OAAQ,CAACV,EAAYE,EAAGF,EAAYG,GACpCrD,GAAI,KAEN,IAAI6D,EAAa/C,EAAUoB,SAAS,SAChC4B,EAAkBhD,EAAUoB,SAAS,kBACrC6B,EAAiBjD,EAAUoB,SAAS,aACpC8B,EAAsBlD,EAAUoB,SAAS,sBACzCN,EAAcpE,EAAKqE,cAAcvD,EAAK,SAC1CrB,EAAQgH,cAAcrD,EAAU8C,MAAO9C,EAAUwB,WAAa,GAAIyB,EAAYC,EAAiB,CAC7FI,aAAc1G,EAAKqD,UACnBsD,eAAgB7F,EAChB8F,YAAa5G,EAAKK,QAAQS,GAC1B+F,UAAWzC,EACX0C,iBAAkBpB,EAAYqB,QAC7B,CACDC,UAAWtB,EAAYsB,UACvBC,kBAAmBvB,EAAYwB,cAC/BC,QAASnH,EAAKqE,cAAcvD,EAAK,aAEnCsC,EAAUgC,OAAShC,EAAUoC,cAAgBa,EAAW9F,IAAI,QAC5D6C,EAAUiC,aAAeiB,EAAgB/F,IAAI,QAC7C4C,EAAUiC,OAASjC,EAAUqC,cAAgBe,EAAehG,IAAI,QAChE4C,EAAUkC,aAAemB,EAAoBjG,IAAI,QAEjD4C,EAAUiE,SAAS,CACjBC,OAAQjD,EACR+C,QAASnH,EAAKqE,cAAcvD,EAAK,aAEnCqC,EAAUiE,SAASb,EAAe7B,SAAS,aAAa4C,gBACxDnE,EAAUyB,WAAa4B,EAAoB9B,SAAS,aAAa4C,eACjE,IAAIC,EAAShB,EAAehG,IAAI,UAE5BgH,IAAqB,IAAXA,IACZA,EAAS,IAGXpE,EAAUU,SAAS,CACjB0D,OAAQA,MAIZ/H,EAAOgI,SAASrF,EAAU1C,EAAQ2C,OAElC,IAAIqF,EAAU/H,EAAU+D,OAAO,CAC7BhD,KAAM,MACNiH,KAAM,WACJ,IAAIC,EAAc,IAAIlI,EAAQ2C,MAC9BjC,KAAKyH,aAAeD,GAEtBE,OAAQ,SAAUhI,EAAaiI,EAAS/H,EAAKgI,GAC3C,IAAIA,GAAWA,EAAQrH,OAASP,KAAKP,IAArC,CAIA,IAAII,EAAOH,EAAYI,UACnB+H,EAAU7H,KAAK8H,MACfC,EAAQ/H,KAAK+H,MACbpI,EAAegI,EAAQvH,IAAI,aAC3B4H,GAAiBH,EACjBlE,EAAgBjE,EAAYU,IAAI,iBAChCoD,EAAsB9D,EAAYU,IAAI,uBACtC6H,EAAgB5I,EAAO6I,MAAM1I,EAAoBQ,KAAKP,IAAKC,EAAaC,EAAcC,GACtFuI,EAAezI,EAAYU,IAAI,gBAgCnC,GA/BAP,EAAKuI,KAAKP,GAASnF,KAAI,SAAU/B,GAC/B,IAAI0H,EAAW,IAAIrG,EAASnC,EAAMc,GAE9BqH,GAAmC,UAAlBrE,GACnB0E,EAASC,WAAU,SAAUC,GAC3BA,EAAMpD,eAAc,MAIxBgD,GAAgBE,EAASG,GAAG,QAASP,GACrCpI,EAAK4I,iBAAiB9H,EAAK0H,GAC3BN,EAAMrF,IAAI2F,MACTK,QAAO,SAAUC,EAAQC,GAC1B,IAAIP,EAAWR,EAAQhH,iBAAiB+H,GAEnCZ,GAAyC,eAAxBxE,GACpB6E,EAASC,WAAU,SAAUC,GAC3BA,EAAMpD,eAAc,MAIxBkD,EAAS1F,WAAW9C,EAAM8I,GAC1BN,EAASQ,IAAI,SACbV,GAAgBE,EAASG,GAAG,QAASP,GACrCF,EAAMrF,IAAI2F,GACVxI,EAAK4I,iBAAiBE,EAAQN,MAC7BS,QAAO,SAAUnI,GAClB,IAAI0H,EAAWR,EAAQhH,iBAAiBF,GACxCoH,EAAMe,OAAOT,MACZU,UAECpJ,GAAgBE,EAAKmJ,QAAU,IAAMhB,EAAkC,UAAlBrE,EAAoD,eAAxBH,GAAuC,CAG1H,IAFA,IAAII,EAAQ/D,EAAKiB,cAAc,GAEtBmI,EAAI,EAAGzD,MAAM5B,EAAMzC,aAAe8H,EAAIpJ,EAAKmJ,UAAWC,EAC7DrF,EAAQ/D,EAAKiB,cAAcmI,GAG7B,IAAIpF,EAAIvC,KAAK4H,IAAItJ,EAAIuJ,WAAYvJ,EAAIwJ,aAAe,EAChDC,EAAiBhK,EAAOiK,KAAKvB,EAAMsB,eAAgBtB,GACvDA,EAAMwB,YAAYvJ,KAAKwJ,gBAAgB5F,EAAM6F,GAAI7F,EAAM8F,GAAI7F,EAAGD,EAAMzC,WAAYyC,EAAM+F,UAAWN,EAAgB3J,EAAasI,SAG9HD,EAAMsB,iBAGRrJ,KAAK8H,MAAQjI,IAEf+J,QAAS,aACTJ,gBAAiB,SAAUC,EAAIC,EAAI7F,EAAG1C,EAAYwI,EAAWE,EAAInK,EAAasI,GAC5E,IAAI8B,EAAW,IAAIxK,EAAQ8C,OAAO,CAChCwB,MAAO,CACL6F,GAAIA,EACJC,GAAIA,EACJ5F,GAAI,EACJD,EAAGA,EACH1C,WAAYA,EACZC,SAAUD,EACVwI,UAAWA,KAGXI,EAAe/B,EAAgB1I,EAAQyE,UAAYzE,EAAQ0E,YAM/D,OALA+F,EAAaD,EAAU,CACrBlG,MAAO,CACLxC,SAAUD,GAAcwI,EAAY,GAAK,GAAKrI,KAAK0I,GAAK,IAEzDtK,EAAamK,GACTC,GAMTG,aAAc,SAAUC,EAAOxK,GAC7B,IAAIG,EAAOH,EAAYI,UACnBqK,EAAatK,EAAKiB,cAAc,GAEpC,GAAIqJ,EAAY,CACd,IAAI9I,EAAK6I,EAAM,GAAKC,EAAWV,GAC3BjI,EAAK0I,EAAM,GAAKC,EAAWT,GAC3BU,EAAS9I,KAAK+I,KAAKhJ,EAAKA,EAAKG,EAAKA,GACtC,OAAO4I,GAAUD,EAAWtG,GAAKuG,GAAUD,EAAWrG,OAIxDwG,EAAWhD,EACfiD,EAAOC,QAAUF,G,uBC1WjB,IAAIG,EAAU,EAAQ,QAElBC,EAAeD,EAAQC,aACvBC,EAAYF,EAAQE,UAEpBpF,EAAc,EAAQ,QAEtBlG,EAAS,EAAQ,QAoBjBuL,EAAgB,EAAVtJ,KAAK0I,GACXa,EAASvJ,KAAK0I,GAAK,IAEvB,SAASM,EAASQ,EAAYnD,EAAS/H,EAAKgI,GAC1CD,EAAQoD,iBAAiBD,GAAY,SAAUpL,GAC7C,IAAIG,EAAOH,EAAYI,UACnBkL,EAAWnL,EAAKoL,aAAa,SAC7BC,EAASxL,EAAYU,IAAI,UACzBgK,EAAS1K,EAAYU,IAAI,UAExBf,EAAO8L,QAAQf,KAClBA,EAAS,CAAC,EAAGA,IAGV/K,EAAO8L,QAAQD,KAClBA,EAAS,CAACA,EAAQA,IAGpB,IAAIE,EAAQxL,EAAIuJ,WACZkC,EAASzL,EAAIwJ,YACbkC,EAAOhK,KAAKiK,IAAIH,EAAOC,GACvB5B,EAAKiB,EAAaQ,EAAO,GAAIE,GAC7B1B,EAAKgB,EAAaQ,EAAO,GAAIG,GAC7BvH,EAAK4G,EAAaN,EAAO,GAAIkB,EAAO,GACpCzH,EAAI6G,EAAaN,EAAO,GAAIkB,EAAO,GACnCnK,GAAczB,EAAYU,IAAI,cAAgByK,EAC9CW,EAAW9L,EAAYU,IAAI,YAAcyK,EACzCY,EAAiB,EACrB5L,EAAKa,KAAKsK,GAAU,SAAUU,IAC3BlG,MAAMkG,IAAUD,OAEnB,IAAIE,EAAM9L,EAAK+L,OAAOZ,GAElBa,EAAavK,KAAK0I,IAAM2B,GAAOF,GAAkB,EACjD9B,EAAYjK,EAAYU,IAAI,aAC5B0L,EAAWpM,EAAYU,IAAI,YAC3B2L,EAAmBrM,EAAYU,IAAI,oBAEnC4L,EAASnM,EAAKoM,cAAcjB,GAChCgB,EAAO,GAAK,EAEZ,IAAIE,EAAYtB,EACZuB,EAA6B,EAC7BC,EAAejL,EACfkL,EAAM1C,EAAY,GAAK,EA+C3B,GA9CA9J,EAAKa,KAAKsK,GAAU,SAAUU,EAAO/K,GACnC,IAAI2L,EAEJ,GAAI9G,MAAMkG,GACR7L,EAAK0M,cAAc5L,EAAK,CACtB2L,MAAOE,IACPrL,WAAYqL,IACZpL,SAAUoL,IACV7C,UAAWA,EACXF,GAAIA,EACJC,GAAIA,EACJ5F,GAAIA,EACJD,EAAGiI,EAAWU,IAAM3I,QATxB,CAgBEyI,EADe,SAAbR,EACc,IAARH,GAAaI,EAAmBF,EAAaH,EAAQG,EAErDjB,EAAMa,EAGZa,EAAQd,GACVc,EAAQd,EACRU,GAAaV,GAEbW,GAA8BT,EAGhC,IAAItK,EAAWgL,EAAeC,EAAMC,EACpCzM,EAAK0M,cAAc5L,EAAK,CACtB2L,MAAOA,EACPnL,WAAYiL,EACZhL,SAAUA,EACVuI,UAAWA,EACXF,GAAIA,EACJC,GAAIA,EACJ5F,GAAIA,EACJD,EAAGiI,EAAWnB,EAAUe,EAAOM,EAAQ,CAAClI,EAAID,IAAMA,IAEpDuI,EAAehL,MAIb8K,EAAYtB,GAAOa,EAGrB,GAAIS,GAAa,KAAM,CACrB,IAAII,EAAQ1B,EAAMa,EAClB5L,EAAKa,KAAKsK,GAAU,SAAUU,EAAO/K,GACnC,IAAK6E,MAAMkG,GAAQ,CACjB,IAAIzK,EAASpB,EAAKiB,cAAcH,GAChCM,EAAOqL,MAAQA,EACfrL,EAAOE,WAAaA,EAAakL,EAAM1L,EAAM2L,EAC7CrL,EAAOG,SAAWD,EAAakL,GAAO1L,EAAM,GAAK2L,WAIrDT,EAAaK,EAAYC,EACzBC,EAAejL,EACftB,EAAKa,KAAKsK,GAAU,SAAUU,EAAO/K,GACnC,IAAK6E,MAAMkG,GAAQ,CACjB,IAAIzK,EAASpB,EAAKiB,cAAcH,GAC5B2L,EAAQrL,EAAOqL,QAAUd,EAAWA,EAAWE,EAAQG,EAC3D5K,EAAOE,WAAaiL,EACpBnL,EAAOG,SAAWgL,EAAeC,EAAMC,EACvCF,GAAgBC,EAAMC,MAM9B/G,EAAY7F,EAAamE,EAAGuH,EAAOC,MAIvCd,EAAOC,QAAUF,G,2CC1KjB,IAAI5C,EAAS,WAAa,IAAI+E,EAAIzM,KAAS0M,EAAGD,EAAIE,eAAsBF,EAAIG,MAAMC,GAAO,OAAOJ,EAAIK,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIN,EAAIzM,KAAS0M,EAAGD,EAAIE,eAAmBE,EAAGJ,EAAIG,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,SAASC,MAAM,CAAC,GAAK,c,uDCezK,G,4DAAA,CACEpN,KADF,WAEI,MAAO,CACLqN,KAAM,KAGVC,QAAS,CACP,KADJ,8GAEA,4CAEA,aACA,OACA,aACA,YAEA,SACA,eACA,uCAEA,QACA,kBACA,YACA,iCAEA,QACA,CACA,YACA,WACA,aACA,qBACA,MACA,oCACA,qCACA,qCACA,qCACA,kCAEA,WACA,UACA,cACA,gBACA,uCAnCA,kCAyCA,sBAzCA,OAyCA,EAzCA,OA0CA,mBACA,YA3CA,iDA8CEC,MAAO,CACLF,KADJ,WAEMlN,KAAKuH,SAGT8F,QAzDF,WA0DIrN,KAAKuH,UC1EqV,I,YCO1V+F,EAAY,eACd,EACA5F,EACAqF,GACA,EACA,KACA,KACA,MAIa,aAAAO,E,8BCEf,IAAIjO,EAAS,EAAQ,QA0BjBiL,EAAW,CAMbiD,kBAAmB,SAAUC,GAC3BxN,KAAKyN,YAAcpO,EAAO8L,QAAQqC,GAAcA,EAAWE,QAAU,GACrE1N,KAAK2N,iBAAmBtO,EAAOuO,OAAOJ,GAAc,IAAI,SAAUK,EAAWC,GAE3E,OADAD,EAAUE,IAAID,EAAO7N,KAAM6N,GACpBD,IACNxO,EAAO2O,kBAWZC,OAAQ,SAAUhO,EAAMQ,GACtB,IAAIqN,EAAe,MAANrN,EAAaT,KAAKyN,YAAYhN,GAAMT,KAAK2N,iBAAiBvN,IAAIH,GACvEkI,EAAenI,KAAKI,IAAI,gBAEP,WAAjB+H,GACFnI,KAAK2N,iBAAiBjN,MAAK,SAAUoN,GACnCA,EAAOI,UAAW,KAItBJ,IAAWA,EAAOI,UAAW,IAU/BC,SAAU,SAAUlO,EAAMQ,GACxB,IAAIqN,EAAe,MAANrN,EAAaT,KAAKyN,YAAYhN,GAAMT,KAAK2N,iBAAiBvN,IAAIH,GAG3E6N,IAAWA,EAAOI,UAAW,IAU/BE,eAAgB,SAAUnO,EAAMQ,GAC9B,IAAIqN,EAAe,MAANrN,EAAaT,KAAKyN,YAAYhN,GAAMT,KAAK2N,iBAAiBvN,IAAIH,GAE3E,GAAc,MAAV6N,EAEF,OADA9N,KAAK8N,EAAOI,SAAW,WAAa,UAAUjO,EAAMQ,GAC7CqN,EAAOI,UAWlBnN,WAAY,SAAUd,EAAMQ,GAC1B,IAAIqN,EAAe,MAANrN,EAAaT,KAAKyN,YAAYhN,GAAMT,KAAK2N,iBAAiBvN,IAAIH,GAC3E,OAAO6N,GAAUA,EAAOI,WAG5B3D,EAAOC,QAAUF,G,qBCvGjB,IAAI+D,EAAU,EAAQ,QAElBhP,EAAS,EAAQ,QAoBrB,SAASiL,EAASQ,EAAYwD,GAC5BjP,EAAOqB,KAAK4N,GAAa,SAAUC,GACjCA,EAAW7F,OAAS,aAOpB2F,EAAQG,eAAeD,GAAY,SAAU3G,EAASD,GACpD,IAAIuG,EAAW,GAiBf,OAhBAvG,EAAQ8G,cAAc,CACpBC,SAAU,SACVC,QAAS7D,EACT8D,MAAOhH,IACN,SAAUlI,GACPA,EAAY6O,EAAWM,SACzBnP,EAAY6O,EAAWM,QAAQjH,EAAQ3H,KAAM2H,EAAQ7H,WAGvD,IAAIF,EAAOH,EAAYI,UAEvBD,EAAKa,MAAK,SAAUC,GAClB,IAAIV,EAAOJ,EAAKK,QAAQS,GACxBuN,EAASjO,GAAQP,EAAYqB,WAAWd,KAAS,QAG9C,CACLA,KAAM2H,EAAQ3H,KACdiO,SAAUA,EACV1N,SAAUoH,EAAQpH,gBAM1B+J,EAAOC,QAAUF,G,uBC1DjB,IAAIwE,EAAQ,EAAQ,QAEhBd,EAAgBc,EAAMd,cAuB1B,SAAS1D,EAASQ,GAChB,MAAO,CACLiE,gBAAiB,SAAUpH,GAEzB,IAAIqH,EAAe,GACfC,EAAiBjB,IAKrB,OAJArG,EAAQoD,iBAAiBD,GAAY,SAAUpL,GAC7CA,EAAYwP,eAAiBF,EAC7BC,EAAelB,IAAIrO,EAAYD,IAAKC,MAE/BuP,GAETE,MAAO,SAAUzP,EAAaiI,GAC5B,IAAIyH,EAAU1P,EAAY2P,aACtBC,EAAS,GACTzP,EAAOH,EAAYI,UACvBD,EAAKa,MAAK,SAAUC,GAClB,IAAI4O,EAAS1P,EAAK2P,YAAY7O,GAC9B2O,EAAOC,GAAU5O,KAEnByO,EAAQ1O,MAAK,SAAU6O,GACrB,IAIIpM,EAJAsM,EAAcH,EAAOC,GAErBG,EAAiC,MAAfD,GAAuB5P,EAAKqE,cAAcuL,EAAa,SAAS,GAClFE,EAAuC,MAAfF,GAAuB5P,EAAKqE,cAAcuL,EAAa,eAAe,GAQlG,GALKC,GAAoBC,IAEvBxM,EAAYiM,EAAQhM,aAAamM,IAG9BG,EAUHN,EAAQQ,cAAcL,EAAQ,QAASG,OAVnB,CACpB,IAAIG,EAAQ1M,EAAU/C,IAAI,oBAAsBV,EAAYoQ,oBAAoBV,EAAQlP,QAAQqP,IAAWA,EAAS,GAAI7P,EAAYwP,eAAgBE,EAAQpG,SAE5JoG,EAAQQ,cAAcL,EAAQ,QAASM,GAEpB,MAAfJ,GACF5P,EAAK+P,cAAcH,EAAa,QAASI,GAO7C,GAAKF,EAUHP,EAAQQ,cAAcL,EAAQ,cAAeI,OAVnB,CAC1B,IAAII,EAAc5M,EAAU/C,IAAI,yBAEhCgP,EAAQQ,cAAcL,EAAQ,cAAeQ,GAE1B,MAAfN,GACF5P,EAAK+P,cAAcH,EAAa,cAAeM,SAW3DxF,EAAOC,QAAUF,G,qBCvFjB,IAAI0F,EAAc,EAAQ,QAqBtBnF,EAASvJ,KAAK0I,GAAK,IAEvB,SAASiG,EAAiBC,EAAMzG,EAAIC,EAAI7F,EAAGwI,EAAK8D,EAAWC,GAKzD,SAASC,EAAUvO,EAAOwO,EAAKC,EAAOlE,GACpC,IAAK,IAAImE,EAAI1O,EAAO0O,EAAIF,EAAKE,IAG3B,GAFAN,EAAKM,GAAG9K,GAAK6K,EAETC,EAAI1O,GAAS0O,EAAI,EAAIF,GAAOJ,EAAKM,EAAI,GAAG9K,EAAIwK,EAAKM,GAAG9K,EAAIwK,EAAKM,GAAGnF,OAElE,YADAoF,EAAQD,EAAGD,EAAQ,GAKvBE,EAAQH,EAAM,EAAGC,EAAQ,GAG3B,SAASE,EAAQH,EAAKC,GACpB,IAAK,IAAIC,EAAIF,EAAKE,GAAK,EAAGA,IAGxB,GAFAN,EAAKM,GAAG9K,GAAK6K,EAETC,EAAI,GAAKN,EAAKM,GAAG9K,EAAIwK,EAAKM,EAAI,GAAG9K,EAAIwK,EAAKM,EAAI,GAAGnF,OACnD,MAKN,SAASqF,EAAQR,EAAMS,EAAYlH,EAAIC,EAAI7F,EAAGwI,GAQ5C,IAPA,IAAIuE,EAAuBD,EACzBE,OAAOC,UACP,EAKOC,EAAI,EAAGC,EAAId,EAAKe,OAAQF,EAAIC,EAAGD,IAAK,CAC3C,IAAIG,EAAS5P,KAAK6P,IAAIjB,EAAKa,GAAGrL,EAAIgE,GAC9BuH,EAASf,EAAKa,GAAGK,IACjBC,EAAUnB,EAAKa,GAAGO,KAClBC,EAASL,EAASrN,EAAIoN,EAAS3P,KAAK+I,MAAMxG,EAAIoN,EAASI,IAAYxN,EAAIoN,EAASI,GAAWH,EAASA,GAAU5P,KAAK6P,IAAIjB,EAAKa,GAAGtL,EAAIgE,GAEnIkH,GAAcY,GAAUX,IAE1BW,EAASX,EAAa,KAGnBD,GAAcY,GAAUX,IAE3BW,EAASX,EAAa,IAGxBV,EAAKa,GAAGtL,EAAIgE,EAAK8H,EAASlF,EAC1BuE,EAAaW,GApDjBrB,EAAKsB,MAAK,SAAUC,EAAGC,GACrB,OAAOD,EAAE/L,EAAIgM,EAAEhM,KA6DjB,IANA,IACI6K,EADAoB,EAAQ,EAERP,EAAMlB,EAAKe,OACXW,EAAS,GACTC,EAAW,GAENd,EAAI,EAAGA,EAAIK,EAAKL,IACvBR,EAAQL,EAAKa,GAAGrL,EAAIiM,EAEhBpB,EAAQ,GACVF,EAAUU,EAAGK,GAAMb,EAAOlE,GAG5BsF,EAAQzB,EAAKa,GAAGrL,EAAIwK,EAAKa,GAAG1F,OAG1B+E,EAAauB,EAAQ,GACvBlB,EAAQW,EAAM,EAAGO,EAAQvB,GAG3B,IAASW,EAAI,EAAGA,EAAIK,EAAKL,IACnBb,EAAKa,GAAGrL,GAAKgE,EACfmI,EAASC,KAAK5B,EAAKa,IAEnBa,EAAOE,KAAK5B,EAAKa,IAIrBL,EAAQkB,GAAQ,EAAOnI,EAAIC,EAAI7F,EAAGwI,GAClCqE,EAAQmB,GAAU,EAAMpI,EAAIC,EAAI7F,EAAGwI,GAGrC,SAAS0F,EAAaC,EAAiBvI,EAAIC,EAAI7F,EAAGsM,EAAWC,GAI3D,IAHA,IAAI6B,EAAW,GACXC,EAAY,GAEPnB,EAAI,EAAGA,EAAIiB,EAAgBf,OAAQF,IACtCoB,EAAiBH,EAAgBjB,MAIjCiB,EAAgBjB,GAAGtL,EAAIgE,EACzBwI,EAASH,KAAKE,EAAgBjB,IAE9BmB,EAAUJ,KAAKE,EAAgBjB,KAInCd,EAAiBiC,EAAWzI,EAAIC,EAAI7F,EAAG,EAAGsM,EAAWC,GACrDH,EAAiBgC,EAAUxI,EAAIC,EAAI7F,GAAI,EAAGsM,EAAWC,GAErD,IAASW,EAAI,EAAGA,EAAIiB,EAAgBf,OAAQF,IAC1C,IAAIoB,EAAiBH,EAAgBjB,IAArC,CAIA,IAAIlL,EAAamM,EAAgBjB,GAAGlL,WAEpC,GAAIA,EAAY,CACd,IAAIuM,EAAOvM,EAAW,GAAG,GAAKA,EAAW,GAAG,GAExCmM,EAAgBjB,GAAGtL,EAAIgE,EACzB5D,EAAW,GAAG,GAAKmM,EAAgBjB,GAAGtL,EAAI,EAE1CI,EAAW,GAAG,GAAKmM,EAAgBjB,GAAGtL,EAAI,EAG5CI,EAAW,GAAG,GAAKA,EAAW,GAAG,GAAKmM,EAAgBjB,GAAGrL,EACzDG,EAAW,GAAG,GAAKA,EAAW,GAAG,GAAKuM,IAK5C,SAASD,EAAiBlR,GAExB,MAA2B,WAApBA,EAAOU,SAGhB,SAAS2I,EAAS5K,EAAamE,EAAGsM,EAAWC,EAAYzE,GACvD,IAEIlC,EACAC,EAHA7J,EAAOH,EAAYI,UACnBkS,EAAkB,GAGlBK,GAAiB,EACjBC,GAAsB5S,EAAYU,IAAI,sBAAwB,GAAKyK,EACvEhL,EAAKa,MAAK,SAAUC,GAClB,IAAIM,EAASpB,EAAKiB,cAAcH,GAC5BwC,EAAYtD,EAAKuD,aAAazC,GAC9BuF,EAAa/C,EAAUoB,SAAS,SAEhCgO,EAAgBrM,EAAW9F,IAAI,aAAe+C,EAAU/C,IAAI,2BAC5DgG,EAAiBjD,EAAUoB,SAAS,aACpCiO,EAAepM,EAAehG,IAAI,UAClCqS,EAAgBrM,EAAehG,IAAI,WAEvC,KAAIa,EAAOqL,MAAQgG,GAAnB,CAIA,IAGII,EACAC,EACA9M,EACAgB,EANA3F,GAAYD,EAAOE,WAAaF,EAAOG,UAAY,EACnDC,EAAKC,KAAKC,IAAIL,GACdM,EAAKF,KAAKG,IAAIP,GAKlBuI,EAAKxI,EAAOwI,GACZC,EAAKzI,EAAOyI,GACZ,IAAIkJ,EAAkC,WAAlBL,GAAgD,UAAlBA,EAElD,GAAsB,WAAlBA,EACFG,EAAQzR,EAAOwI,GACfkJ,EAAQ1R,EAAOyI,GACf7C,EAAY,aACP,CACL,IAAIgM,GAAMD,GAAiB3R,EAAO4C,EAAI5C,EAAO6C,IAAM,EAAIzC,EAAKJ,EAAO4C,EAAIxC,GAAMoI,EACzEqJ,GAAMF,GAAiB3R,EAAO4C,EAAI5C,EAAO6C,IAAM,EAAItC,EAAKP,EAAO4C,EAAIrC,GAAMkI,EAI7E,GAHAgJ,EAAQG,EAAU,EAALxR,EACbsR,EAAQG,EAAU,EAALtR,GAERoR,EAAe,CAElB,IAAIG,EAAKF,EAAKxR,GAAMmR,EAAe3O,EAAI5C,EAAO4C,GAC1CmP,EAAKF,EAAKtR,GAAMgR,EAAe3O,EAAI5C,EAAO4C,GAC1CoP,EAAKF,GAAM1R,EAAK,GAAK,EAAI,GAAKoR,EAC9BS,EAAKF,EACTN,EAAQO,GAAM5R,EAAK,GAAK,EAAI,GAC5BsR,EAAQO,EACRrN,EAAa,CAAC,CAACgN,EAAIC,GAAK,CAACC,EAAIC,GAAK,CAACC,EAAIC,IAGzCrM,EAAY+L,EAAgB,SAAWvR,EAAK,EAAI,OAAS,QAG3D,IACI8R,EADAC,EAAOlN,EAAWmN,UAElBC,EAASpN,EAAW9F,IAAI,UAG1B+S,EADoB,kBAAXG,EACKA,GAAUhS,KAAK0I,GAAK,KAEpBsJ,EAASjS,EAAK,GAAKH,EAAWI,KAAK0I,IAAM9I,EAAW,EAGpE,IAAIsB,EAAO9C,EAAY6T,kBAAkB5S,EAAK,WAAad,EAAKK,QAAQS,GACpE6S,EAAWxD,EAAYyD,gBAAgBjR,EAAM4Q,EAAMvM,EAAW,OAClEwL,IAAmBc,EACnBlS,EAAOsC,MAAQ,CACbkC,EAAGiN,EACHhN,EAAGiN,EACHhR,SAAU4Q,EACVlH,OAAQmI,EAASnI,OACjB+F,IAAKoB,EACLlB,KAAMmB,EACN5M,WAAYA,EACZgB,UAAWA,EACXE,cAAe,SACff,SAAUmN,EACVvM,OAAQgM,GAGLA,GACHZ,EAAgBF,KAAK7Q,EAAOsC,YAI3B8O,GAAkB3S,EAAYU,IAAI,sBACrC2R,EAAaC,EAAiBvI,EAAIC,EAAI7F,EAAGsM,EAAWC,GAIxD7F,EAAOC,QAAUF,G,qBC3PjB,IAAI+D,EAAU,EAAQ,QAElBhP,EAAS,EAAQ,QAErB,EAAQ,QAER,EAAQ,QAER,IAAIqU,EAAyB,EAAQ,QAEjCC,EAAY,EAAQ,QAEpBC,EAAY,EAAQ,QAEpBC,EAAa,EAAQ,QAoBzBH,EAAuB,MAAO,CAAC,CAC7BpT,KAAM,kBACNwT,MAAO,mBACPjF,OAAQ,kBACP,CACDvO,KAAM,YACNwT,MAAO,cACPjF,OAAQ,UACP,CACDvO,KAAM,cACNwT,MAAO,gBACPjF,OAAQ,cAEVR,EAAQ0F,eAAeJ,EAAU,QACjCtF,EAAQ2F,eAAe3U,EAAO6I,MAAM0L,EAAW,QAC/CvF,EAAQ4F,kBAAkBJ,EAAW,S,mBC/BrC,SAASvJ,EAASQ,GAChB,MAAO,CACLA,WAAYA,EACZqE,MAAO,SAAUzP,EAAaiI,GAC5B,IAAIuM,EAAevM,EAAQwM,eAAe,CACxCzF,SAAU,WAGZ,GAAKwF,GAAiBA,EAAajD,OAAnC,CAIA,IAAIpR,EAAOH,EAAYI,UACvBD,EAAKuU,YAAW,SAAUzT,GAGxB,IAFA,IAAIV,EAAOJ,EAAKK,QAAQS,GAEfoQ,EAAI,EAAGA,EAAImD,EAAajD,OAAQF,IACvC,IAAKmD,EAAanD,GAAGhQ,WAAWd,GAC9B,OAAO,EAIX,OAAO,QAMfsK,EAAOC,QAAUF,G,qBC9CjB,IAAI+J,EAAmB,EAAQ,QAE3BC,EAAO,EAAQ,QAEfxF,EAAQ,EAAQ,QAEhBxL,EAASwL,EAAMxL,OACf6H,EAAU2D,EAAM3D,QAqCpB,SAASb,EAAS5K,EAAa6U,EAAKC,GAClCD,EAAMpJ,EAAQoJ,IAAQ,CACpBE,gBAAiBF,IACdjR,EAAO,GAAIiR,GAChB,IAAIG,EAAShV,EAAYiV,YACrBC,EAAiBP,EAAiBK,EAAQH,GAC1CrE,EAAO,IAAIoE,EAAKM,EAAgBlV,GAEpC,OADAwQ,EAAK2E,SAASH,EAAQF,GACftE,EAGT3F,EAAOC,QAAUF,G,qBCvDjB,IAAI+D,EAAU,EAAQ,QAElByG,EAAmB,EAAQ,QAE3BzV,EAAS,EAAQ,QAEjB0V,EAAY,EAAQ,QAEpBtK,EAAU,EAAQ,QAElBuK,EAA0BvK,EAAQuK,wBAElCC,EAAsB,EAAQ,QAE9BC,EAAgB,EAAQ,QAExBC,EAAkBD,EAAcC,gBAoBhCC,EAAY/G,EAAQgH,kBAAkB,CACxC/U,KAAM,aAENiH,KAAM,SAAU+N,GACdF,EAAUG,WAAWvV,KAAM,OAAQwV,WAGnCxV,KAAKyV,mBAAqB,WACxB,OAAOzV,KAAKqP,cAGdrP,KAAKuN,kBAAkBvN,KAAK0V,yBAE5B1V,KAAK2V,kBAAkBL,IAGzBM,YAAa,SAAUC,GACrBT,EAAUU,UAAU9V,KAAM,cAAe6V,GACzC7V,KAAKuN,kBAAkBvN,KAAK0V,0BAE9BK,eAAgB,SAAUT,EAAQ3N,GAChC,OAAOmN,EAAiB9U,KAAM,CAAC,WAEjC0V,sBAAuB,WAKrB,IAJA,IAAI7V,EAAOG,KAAKqP,aACZrE,EAAWnL,EAAKoL,aAAa,SAC7BuC,EAAa,GAERuD,EAAI,EAAGK,EAAMvR,EAAKmJ,QAAS+H,EAAIK,EAAKL,IAC3CvD,EAAWsE,KAAK,CACd7R,KAAMJ,EAAKK,QAAQ6Q,GACnBrF,MAAO7L,EAAKO,IAAI4K,EAAU+F,GAC1B7C,SAAUiH,EAAgBtV,EAAMkR,EAAG,cAIvC,OAAOvD,GAGTwI,cAAe,SAAUjW,GACvB,IAAIF,EAAOG,KAAKF,UACZmW,EAASb,EAAUU,UAAU9V,KAAM,gBAAiBD,GAEpDmW,EAAY,GAMhB,OALArW,EAAKa,KAAKb,EAAKoL,aAAa,UAAU,SAAUS,GAC9CwK,EAAUpE,KAAKpG,MAEjBuK,EAAOE,QAAUnB,EAAwBkB,EAAWnW,EAAWF,EAAKqD,UAAU9C,IAAI,qBAClF6V,EAAOG,MAAMtE,KAAK,WACXmE,GAETN,kBAAmB,SAAUL,GAE3BP,EAAUsB,gBAAgBf,EAAQ,YAAa,CAAC,SAChD,IAAIgB,EAAqBhB,EAAOtS,UAC5BuT,EAAuBjB,EAAOkB,SAASxT,UAE3CsT,EAAmBG,KAAOH,EAAmBG,MAAQnB,EAAO/R,MAAMkT,KAClEF,EAAqBE,KAAOF,EAAqBE,MAAQnB,EAAOkB,SAASjT,MAAMkT,MAEjFC,cAAe,CACbC,OAAQ,EACRC,EAAG,EACHC,iBAAiB,EACjBC,gBAAgB,EAEhB5L,OAAQ,CAAC,MAAO,OAChBd,OAAQ,CAAC,EAAG,OAEZT,WAAW,EACXxI,WAAY,GAEZqK,SAAU,EAGVuL,kBAAmB,EAEnB5W,eAAgB,GAEhB6W,YAAa,GAEbC,mBAAmB,EAKnBC,iBAAkB,EAElBnL,kBAAkB,EAElBxI,MAAO,CAEL+P,QAAQ,EACRmD,MAAM,EAEN9U,SAAU,SAMZqB,UAAW,CACTyT,MAAM,EAENxF,OAAQ,GAERI,QAAS,GACTjK,QAAQ,EACR+P,UAAW,CAET/L,MAAO,EACP9K,KAAM,UAGV8W,UAAW,CACTC,YAAa,GAGf1T,cAAe,YAEfH,oBAAqB,aACrB8T,gBAAiB,cAGrBjY,EAAOkY,MAAMnC,EAAWH,GACxB,IAAI3K,EAAW8K,EACf7K,EAAOC,QAAUF","file":"js/chunk-5e25eb5c.384bf0cb.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(null, idx), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled() ? function (fromState, toState) {\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r + seriesModel.get('hoverOffset')\n        }\n      }, 300, 'elasticOut');\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r\n        }\n      }, 300, 'elasticOut');\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, width, height);\n  });\n}\n\nmodule.exports = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"height\":\"400px\"},attrs:{\"id\":\"main\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div id=\"main\" style=\"height:400px;\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport api from \"@/api/getData.js\";\r\nimport echarts from \"echarts/lib/echarts\";\r\n// 引入饼图\r\nimport \"echarts/lib/chart/pie\";\r\n// 引入提示框和标题组件\r\nimport \"echarts/lib/component/tooltip\";\r\nimport \"echarts/lib/component/title\";\r\nimport \"echarts/lib/component/axis\";\r\nimport \"echarts/lib/component/toolbox\";\r\nimport \"echarts/lib/component/legend\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      city: {}\r\n    };\r\n  },\r\n  methods: {\r\n    async init() {\r\n      let myChart = echarts.init(document.getElementById(\"main\"));\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: {\r\n          text: \"用户分布图\",\r\n          x: \"center\"\r\n        },\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          orient: \"vertical\",\r\n          left: \"left\",\r\n          data: [\"北京\", \"杭州\", \"上海\", \"深圳\", \"其他\"]\r\n        },\r\n        series: [\r\n          {\r\n            name: \"用户来源\",\r\n            type: \"pie\",\r\n            radius: \"65%\",\r\n            center: [\"50%\", \"60%\"],\r\n            data: [\r\n              { value: this.city.beijing, name: \"北京\" },\r\n              { value: this.city.shanghai, name: \"上海\" },\r\n              { value: this.city.shenzhen, name: \"深圳\" },\r\n              { value: this.city.hangzhou, name: \"杭州\" },\r\n              { value: this.city.qita, name: \"其他\" }\r\n            ],\r\n            itemStyle: {\r\n              emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      const data = await api.getCityUser();\r\n      const { user_city } = data.data;\r\n      this.city = user_city;\r\n    }\r\n  },\r\n  watch: {\r\n    city() {\r\n      this.init();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4047b0e3&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function (targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function (ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function (seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Legend may use the visual info in data before processed\n\n          dataAll.setItemVisual(rawIdx, 'color', color); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        } else {\n          // Set data all color for legend\n          dataAll.setItemVisual(rawIdx, 'color', singleDataColor);\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Legend may use the visual info in data before processed\n\n          dataAll.setItemVisual(rawIdx, 'borderColor', borderColor); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        } else {\n          // Set data all borderColor for legend\n          dataAll.setItemVisual(rawIdx, 'borderColor', singleDataBorderColor);\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, sum) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, ['value']);\n  },\n  _createSelectableList: function () {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 高亮扇区偏移量\n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer' // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;"],"sourceRoot":""}